{% extends 'template/jhTemplateV4.html'%} {% block vueTemplate %}

<script type="text/html" id="app-template">
  <div>
    <v-app mobile-breakpoint="sm">
      <jh-menu />
      <v-main class="mt-15">
        <!-- 头部内容 >>>>>>>>>>>>> -->
        <div class="jh-page-second-bar px-8">
          <v-row>
            <v-col cols="12" xs="12" sm="12" md="4" xl="3">
              <div class="pt-3 text-h7 font-weight-bold">
                日历
                <!-- 帮助页按钮 -->
                <v-icon
                  @click="isHelpPageDrawerShown = true"
                  color="success"
                  small
                  >mdi-help-circle-outline
                </v-icon>
              </div>
              <v-breadcrumbs
                class="pb-3 pt-0 pl-0"
                :items="breadcrumbs"
                divider="-"
              ></v-breadcrumbs>
            </v-col>
            <!-- <<<<<<<< 搜索条件表单 -->
          </v-row>
        </div>
        <!-- <<<<<<<<<<<<< 头部内容 -->

        <div class="jh-page-body-container px-8">
          <v-card class="pa-4">
            <div id='calendar'></div>
          </v-card>
        </div>

        <!-- 帮助页抽屉 >>>>>>>>>>>>> -->
        <v-navigation-drawer
          v-if="isHelpPageDrawerLoaded"
          v-model="isHelpPageDrawerShown"
          :permanent="isHelpPageDrawerShown"
          fixed
          temporary
          right
          width="80%"
          class="elevation-24"
        >
          <iframe
            style="border: 0"
            :src="`/${appInfo.appId}/pageDoc#404.md`"
            width="100%"
            height="100%"
          ></iframe>
          <v-btn
            elevation="0"
            color="success"
            fab
            absolute
            top
            left
            small
            tile
            class="drawer-close-float-btn"
            @click="isHelpPageDrawerShown = false"
          >
            <v-icon>mdi-close</v-icon>
          </v-btn>
        </v-navigation-drawer>
        <!-- <<<<<<<<<<<<< 帮助页抽屉 -->
      </v-main>
    </v-app>

    <jh-toast />
    <jh-mask />
    <jh-confirm-dialog />
  </div>
</script>

<div id="app"></div>

{% endblock %} {% block vueScript %}
{% include 'common/jianghuJs/fixedTableHeightV4.html' %}
{% include 'common/excelUtil.html'%}
<script src='https://cdn.jsdelivr.net/npm/fullcalendar@6.1.10/index.global.min.js'></script>

<script type="module">
  new Vue({
    el: '#app',
    template: '#app-template',
    vuetify: new Vuetify(),
    data: () => ({
      isHelpPageDrawerLoaded: false,
      // 面包屑
      breadcrumbs: [
        {
          text: '首页',
          disabled: true,
        },
        {
          text: '日历',
          disabled: true,
        },
      ],
    }),
    watch: {
    
    },
    async created() {},
    mounted() {
      this.initCalendar();
    },
    methods: {
      async doUiAction(uiActionId, uiActionData) {
        switch (uiActionId) {
          default:
            console.error('[doUiAction] uiActionId not find', { uiActionId });
            break;
        }
      },
      // 初始化日历
      initCalendar(style = 'dayGridMonth') {
        var calendarEl = document.getElementById('calendar');
        var calendar = new FullCalendar.Calendar(calendarEl, {
          initialView: style
        });
        calendar.render();
      },
    },
  });
</script>

<style scoped>


</style>

{% endblock %}
